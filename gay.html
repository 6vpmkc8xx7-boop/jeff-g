<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>JEFF Survival</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
  background: linear-gradient(90deg,
    #ff9a9e,
    #fad0c4,
    #fbc2eb,
    #a18cd1,
    #84fab0,
    #8fd3f4);
}

#hud {
  padding: 12px;
  color: white;
  font-size: 18px;
  background: rgba(0,0,0,0.35);
}

#game {
  position: relative;
  width: 100%;
  height: calc(100vh - 50px);
}

.enemy {
  position: absolute;
  font-size: 26px;
  user-select: none;
}
</style>
</head>

<body>

<div id="hud">
  ğŸ¸ ç”Ÿå­˜æ™‚é–“ï¼š<span id="time">0</span>ç§’
</div>
<div id="game"></div>

<script>
// ===== èµ·å‹•ç¢ºèª =====
alert("JEFF èµ·å‹•ï¼");

const game = document.getElementById("game");
const timeEl = document.getElementById("time");

let time = 0;
let alive = true;

const names = [
  "ã‘ã„ãŸ",
  "ã¾ã¤",
  "ã•ãŠã‚Šã‚“",
  "ã®ã¶",
  "ã‚†ãŸã‹ã•ã‚“",
  "ã™ã™ã‚€",
  "ã²ã‚ã‚†ã",
  "ã‚Šã‚‡ã†ãŸ",
  "å±±ç”°å¤§åœ°",
  "ã“ã˜ã‚‰ã›ã‚†ã†ã",
  "ã‚µãƒã‚·ã‚ª",
  "æ·³å¹³"
];

// â± ç”Ÿå­˜æ™‚é–“
setInterval(() => {
  if (!alive) return;
  time++;
  timeEl.textContent = time;
}, 1000);

// ğŸ‘¤ å¸¸é€£å‡ºç¾
function spawnEnemy() {
  if (!alive) return;

  const e = document.createElement("div");
  e.className = "enemy";
  e.textContent = names[Math.floor(Math.random() * names.length)];

  e.style.left = Math.random() * (window.innerWidth - 80) + "px";
  e.style.top = "-40px";

  game.appendChild(e);

  let y = -40;
  const fall = setInterval(() => {
    if (!alive) {
      clearInterval(fall);
      e.remove();
      return;
    }

    y += 2;
    e.style.top = y + "px";

    if (y > window.innerHeight) {
      clearInterval(fall);
      gameOver();
    }
  }, 16);

  e.addEventListener("touchstart", () => {
    e.remove();
    clearInterval(fall);
  });
}

// ğŸ’€ ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼
function gameOver() {
  alive = false;
  alert("ğŸ’¥ ãƒãƒã‚†ã†ã˜ã«æ€’ã‚‰ã‚ŒãŸï¼\nç”Ÿå­˜æ™‚é–“ï¼š" + time + "ç§’");
  location.reload();
}

// â³ å‡ºç¾ãƒ«ãƒ¼ãƒ—
setInterval(spawnEnemy, 1200);
</script>

</body>
</html>